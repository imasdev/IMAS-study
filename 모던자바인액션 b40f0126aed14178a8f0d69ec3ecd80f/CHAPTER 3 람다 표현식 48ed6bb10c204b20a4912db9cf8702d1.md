# CHAPTER 3 λλ‹¤ ν‘ν„μ‹

λ°ν‘μ: κ¶μ¤μ¥
μ¤ν„°λ””μΌμ •: 2022/04/28 μ¤ν›„ 6:00
μ£Όμ°¨λ³„: 2μ£Όμ°¨
μ°Έμ—¬μ: κ¶μ¤μ¥, λ‚¨μ±„λ¦°, μ΄μΉλ―Ό, μ¥ν„μ¤€

Chapter 3 λλ‹¤ ν‘ν„μ‹ λ©μ°¨

- λλ‹¤λ€ λ¬΄μ—‡μΈκ°€?
- μ–΄λ””μ—, μ–΄λ–»κ² λλ‹¤λ¥Ό μ‚¬μ©ν•λ”κ°€?
- μ‹¤ν–‰ μ–΄λΌμ΄λ“ ν¨ν„΄
- ν•¨μν• μΈν„°νμ΄μ¤, ν•μ‹ μ¶”λ΅ 
- λ©”μ„λ“ μ°Έμ΅°
- λλ‹¤ λ§λ“¤κΈ°

### ν•΄λ‹Ή μ±•ν„°μ— μ•μ„μ„ 1μ¥ μ¤‘μ” Point(p.49)

<aside>
π’΅ μλ°” 8μ—μ„λ” **ν•¨μ**λ¥Ό μƒλ΅μ΄ κ°’μ ν•μ‹μΌλ΅ μ¶”κ°€ν•¨. (ν•¨μλ¥Ό κ°’μ²λΌ μ·¨κΈ‰)

κΈ°μ΅΄μ μλ°”μ—μ„ μ΅°μ‘ν•  μ μλ” κ°’μ—λ” κΈ°λ³Έ κ°’(primitive type)κ³Ό, κ°μ²΄(κ°μ²΄μ μ°Έμ΅° μ¦‰ μΈμ¤ν„΄μ¤)κ°€ μμ—λ‹¤.

ν”„λ΅κ·Έλλ° μ–Έμ–΄μ ν•µμ‹¬μ€ κ°’μ„ λ°”κΎΈλ” κ²ƒ.

μ΅°μ‘ν•  μ μλ” κ°’λ“¤μ„ μΌκΈ‰ μλ°” μ‹λ―Όμ΄λΌκ³  λ¶€λ¥΄λ©°, μ „λ‹¬ν•  μ μ—†λ” κµ¬μ΅°μ²΄μΈ λ©”μ„λ“, ν΄λμ¤λ” μ΄κΈ‰ μλ°” μ‹λ―Όμ΄μ—λ‹¤.

**but,** λ°νƒ€μ„μ— λ©”μ„λ“λ¥Ό μ „λ‹¬ν•  μ μλ‹¤λ©΄, μ¦‰ **λ©”μ„λ“(ν•¨μ)λ¥Ό μΌκΈ‰ μ‹λ―Ό**μΌλ΅ λ§λ“¤λ©΄ ν”„λ΅κ·Έλλ°μ— μ μ©ν•κ² ν™μ©ν•  μ μλ‹¤. β†’ μλ°” 8μ—μ„ μ΄λ¥Ό κµ¬ν„ν•¨

</aside>

# λλ‹¤λ€ λ¬΄μ—‡μΈκ°€?

λλ‹¤ ν‘ν„μ‹μ€ λ©”μ„λ“λ΅ μ „λ‹¬ν•  μμλ” μµλ…ν•¨μλ¥Ό λ‹¨μν™”ν• κ²ƒ

λλ‹¤ ν‘ν„μ‹μ—λ” μ΄λ¦„μ€ μ—†μ§€λ§ **νλΌλ―Έν„° λ¦¬μ¤νΈ, λ°”λ””, λ°ν™ ν•μ‹, λ°μƒν•  μ μλ” μμ™Έλ¦¬μ¤νΈ**λ” κ°€μ§ μ μλ‹¤. λλ‹¤μ‹μ—λ” μ΄λ¦„μ΄ μ—†λ‹¤λ” μ΄μ λ΅ **μµλ… ν•¨μ(anonymour function)**μ΄λΌκ³ λ„ ν•λ‹¤.

### λλ‹¤μ νΉμ§•

- **μµλ…**: λ³΄ν†µμ λ©”μ„λ“μ™€ λ‹¬λ¦¬ μ΄λ¦„μ΄ μ—†μΌλ―€λ΅ μµλ…μ΄λΌ ν‘ν„ν•λ‹¤. κµ¬ν„ν•΄μ•Ό ν•  μ½”λ“μ— λ€ν• κ±±μ •κ±°λ¦¬κ°€ μ¤„μ–΄λ“ λ‹¤.
- **ν•¨μ**: λλ‹¤λ” λ©”μ„λ“μ²λΌ νΉμ • ν΄λμ¤μ— μΆ…μ†λμ§€ μ•μΌλ―€λ΅ ν•¨μλΌκ³  λ¶€λ¥Έλ‹¤. ν•μ§€λ§ λ©”μ„λ“μ²λΌ νλΌλ―Έν„° λ¦¬μ¤νΈ, λ°”λ””, λ°ν™ ν•μ‹, κ°€λ¥ν• μμ™Έ λ¦¬μ¤νΈλ¥Ό ν¬ν•¨ν•λ‹¤.
- **μ „λ‹¬**: λλ‹¤ν‘ν„μ‹μ„ λ©”μ„λ“ μΈμλ΅ μ „λ‹¬ν•κ±°λ‚ λ³€μλ΅ μ§€μ •ν•  μ μλ‹¤.
- **κ°„κ²°μ„±**: μµλ…ν΄λμ¤μ²λΌ λ§μ€ μμ§κµ¬λ ν• μ½”λ“λ¥Ό κµ¬ν„ν•  ν•„μ”κ°€ μ—†λ‹¤.

### λλ‹¤μ κµ¬μ„±

```java
(Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight());
```

![Untitled](CHAPTER%203%20%E1%84%85%E1%85%A1%E1%86%B7%E1%84%83%E1%85%A1%20%E1%84%91%E1%85%AD%E1%84%92%E1%85%A7%E1%86%AB%E1%84%89%E1%85%B5%E1%86%A8%2048ed6bb10c204b20a4912db9cf8702d1/Untitled.png)

- **νλΌλ―Έν„° λ¦¬μ¤νΈ**: `Comparator`μ `compare` λ©”μ„λ“ νλΌλ―Έν„°(μ‚¬κ³Ό λ‘ κ°)
- **ν™”μ‚΄ν‘**: ν™”μ‚΄ν‘(β†’)λ” λλ‹¤μ νλΌλ―Έν„° λ¦¬μ¤νΈμ™€ λ°”λ””λ¥Ό κµ¬λ¶„ν•λ‹¤.
- **λλ‹¤ λ°”λ””**: λ‘ μ‚¬κ³Όμ λ¬΄κ²λ¥Ό λΉ„κµν•λ‹¤. λλ‹¤μ λ°ν™κ°’μ— ν•΄λ‹Ήν•λ” ν‘ν„μ‹μ΄λ‹¤.

## μμ  3-1 μλ°” 8μ μ μ©ν• λλ‹¤ ν‘ν„μ‹ (λ‹¤μ„―κ°€μ§€ λλ‹¤ ν‘ν„μ‹ μμ )

```java
P.90
```

### λλ‹¤ μμ μ™€ μ‚¬μ© μ‚¬λ΅€

| μ‚¬μ© μ‚¬λ΅€ | λλ‹¤ μμ  |
| --- | --- |
| boolean ν‘ν„μ‹ | List<String> list -> list.isEmpty() |
| κ°μ²΄ μƒμ„± | () -> new Apple(10) |
| κ°μ²΄μ—μ„ μ†λΉ„ | (Apple a) β†’ {
      System.out.println(a.getWeight())
}; |
| κ°μ²΄μ—μ„ μ„ νƒ/μ¶”μ¶ | (String s) β†’ s.length() |
| λ‘ κ°’μ„ μ΅°ν•© | (int a, int b) β†’ a * b |
| λ‘ κ°μ²΄ λΉ„κµ | (Apple a1, Apple a2) β†’ a1.getWeight().compareTo(a2.getWeight()) |

# λλ‹¤μ μ‚¬μ© λ°©λ²•

λλ‹¤λ” ν•¨μν• μΈν„°νμ΄μ¤λΌλ” λ¬Έλ§¥μ—μ„ μ‚¬μ©ν•  μ μλ‹¤

λλ‹¤ ν‘ν„μ‹μ€ λ³€μμ— ν• λ‹Ήν•κ±°λ‚ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μΈμλ΅ λ°›λ” λ©”μ„λ“λ΅ μ „λ‹¬ν•  μ μμ

## ν•¨μν• μΈν„°νμ΄μ¤

λ‹¨ ν•λ‚μ **μ¶”μƒ λ©”μ„λ“**λ§ μ„ μ–Έλ μΈν„°νμ΄μ¤λ΅ λλ‹¤μ‹μ„ λ‹¤λ£¨κΈ° μ„ν• μ°Έμ΅°λ³€μμ νƒ€μ…(λ©”μ„λ“μ μΈμ)μΌλ΅ μ‚¬μ©ν•λ‹¤.

λ€ν‘μ μΈ ν•¨μν• μΈν„°νμ΄μ¤λ΅ μλ°” APIμ `Comparator`, `Runnable` λ“±μ΄ μλ‹¤.

```java
@FunctionalInterface
public interface Comparator<T>{
		int compare(T o1, T o2);
}
```

<aside>
π’΅ μΈν„°νμ΄μ¤λ” **λ””ν΄νΈ λ©”μ„λ“**(μΈν„°νμ΄μ¤μ λ©”μ„λ“λ¥Ό κµ¬ν„ν•μ§€ μ•μ€ ν΄λμ¤λ¥Ό κ³ λ ¤ν•΄μ„ κΈ°λ³Έ κµ¬ν„μ„ μ κ³µν•λ” λ°”λ””λ¥Ό ν¬ν•¨ν•λ” λ©”μ„λ“)λ¥Ό ν¬ν•¨ν•  μ μλ‹¤. λ§μ€ λ””ν΄νΈ λ©”μ„λ“κ°€ μλ”λΌλ„ **μ¶”μƒ λ©”μ„λ“κ°€ μ¤μ§ ν•λ‚λ©΄ ν•¨μν• μΈν„°νμ΄μ¤λ‹¤.**

</aside>

λλ‹¤ ν‘ν„μ‹μΌλ΅ ν•¨μν• μΈν„°νμ΄μ¤μ μ¶”μƒ λ©”μ„λ“ κµ¬ν„μ„ μ§μ ‘ μ „λ‹¬ν•  μ μμΌλ―€λ΅ **μ „μ²΄ ν‘ν„μ‹μ„ ν•¨μν• μΈν„°νμ΄μ¤μ μΈμ¤ν„΄μ¤λ΅ μ·¨κΈ‰**(κΈ°μ μ μΌλ΅ λ”°μ§€λ©΄ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• ν΄λμ¤μ μΈμ¤ν„΄μ¤)ν•  μ μλ‹¤.

λλ‹¤ ν‘ν„μ‹μ€ ν•¨μν• μΈν„°νμ΄μ¤μ μ¶”μƒλ©”μ„λ“μ™€ κ°™μ€ **μ‹κ·Έλ‹μ²**λ¥Ό κ°–λ”λ‹¤.

```java
Runnable r1 = () -> System.out.println("Hello World 1");  // λλ‹¤ μ‚¬μ©(λ³€μ ν• λ‹Ή)

Runnable r2 = new Runnable(){       // μµλ… ν΄λμ¤ μ‚¬μ©
		public void run() {
				System.out.println("Hello World 2");
		}
};

public static void process(Runnable r) {
		r.run();
}

process(r1);
process(r2);
process(() -> System.out.println("Hello World 3"));  // μ§μ ‘ λλ‹¤ ν‘ν„μ‹μ„ μ „λ‹¬
```

## ν•¨μ λ””μ¤ν¬λ¦½ν„°

**ν•¨μν• μΈν„°νμ΄μ¤μ μ¶”μƒ λ©”μ„λ“ μ‹κ·Έλ‹μ²**λ” λλ‹¤ ν‘ν„μ‹μ μ‹κ·Έλ‹μ²λ¥Ό κ°€λ¦¬ν‚¨λ‹¤. **λλ‹¤ ν‘ν„μ‹μ μ‹κ·Έλ‹μ²λ¥Ό μ„μ ν•λ” λ©”μ„λ“**λ¥Ό **ν•¨μ λ””μ¤ν¬λ¦½ν„°**λΌκ³  λ¶€λ¥Έλ‹¤.

μλ¥Ό λ“¤μ–΄ `() β†’ void` ν‘κΈ°λ” νλΌλ―Έν„° λ¦¬μ¤νΈκ°€ μ—†μΌλ©° void λ¥Ό λ°ν™ν•λ” ν•¨μλ¥Ό μλ―Έν•λ‹¤.

```java
@FunctionalInterface
public interface Runnable {

		public abstract void run();
}
```

```java
public void process(Runnable r){
		r.run();
}
process( () -> System.out.println("This is awesome!!") );
```

`() -> System.out.println("This is awesome!!")`μ€ μΈμκ°€ μ—†μΌλ©° `void` λ¥Ό λ°ν™ν•λ” λλ‹¤ ν‘ν„μ‹μ΄λ©°, μ΄λ” `Runnable` μΈν„°νμ΄μ¤μ run λ©”μ„λ“ μ‹κ·Έλ‹μ²( `public abstract void run()` ) κ³Ό κ°™λ‹¤.

## ν•¨μν• μΈν„°νμ΄μ¤ μ‚¬μ©

λ‹¤μ–‘ν• λλ‹¤ ν‘ν„μ‹μ„ μ‚¬μ©ν•λ ¤λ©΄ κ³µν†µμ ν•¨μ λ””μ¤ν¬λ¦½ν„°λ¥Ό κΈ°μ ν•λ” ν•¨μν• μΈν„°νμ΄μ¤ μ§‘ν•©μ΄ ν•„μ”ν•λ‹¤. 

μλ°” 8μ—μ„ `java.util.function` ν¨ν‚¤μ§€λ΅ μμ£Ό μ‚¬μ©λλ” λ‹¤μ–‘ν• ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•λ‹¤.

### μλ°” 8μ— μ¶”κ°€λ ν•¨μν• μΈν„°νμ΄μ¤

| ν•¨μν• μΈν„°νμ΄μ¤ | ν•¨μ λ””μ¤ν¬λ¦½ν„° | μ¶”μƒ λ©”μ„λ“ | μ„¤λ… |
| --- | --- | --- | --- |
| java.lang.Runnable | () β†’ void | void run() | λ§¤κ°λ³€μλ„ μ—†κ³ , λ°ν™κ°’λ„ μ—†μ |
| Supplier | () β†’ T | T get() | λ§¤κ°λ³€μλ” μ—†κ³ , λ°ν™κ°’λ§ μμ |
| Consumer<T> | T β†’ void | void accept(T t) | λ§¤κ°λ³€μλ§ μκ³ , λ°ν™κ°’μ΄ μ—†μ(Supplierμ™€ λ°λ€) |
| Function<T, R> | T β†’ R | R apply(T t) | μΌλ°μ μΈ ν•¨μ, ν•λ‚μ λ§¤κ°λ³€μλ¥Ό λ°›μ•„μ„ κ²°κ³Όλ¥Ό λ°ν™ |
| Predicate<T> | T β†’ boolean | boolean test(T t) | λ§¤κ°λ³€μλ” ν•λ‚(Tμ κ°μ²΄λ¥Ό μΈμλ΅ λ°›μ•„), boolean μ„ λ°ν™. |
| UnaryOperator<T> | T β†’ T | R apply(T t); |  |
| BinaryOperator<T> | (T, T) β†’ T | R apply(T t1, T t2); |  |

```java
@FunctionalInterface
public interface Predicate<T>{
		boolean test(T t);
}

public <T> List<T> filter(List<T> list, Predicate<T> p){
		List<T> results = new ArrayList<>();
		for(T t : list){
				if(p.test(t)){
						results.add(t);
				}
		}
		return results;
}

Predicate<String> nonEmptyStringPredicate = (String s) -> !s.isEmpty();
List<String> nonEmpty = filter(listOfStrings, nonEmptyStringPredicate);
```

μλ°” 8μ—μ„λ” κΈ°λ³Έν•μ„ μ…μ¶λ ¥μΌλ΅ μ‚¬μ©ν•λ” μƒν™©μ—μ„ μ¤ν† λ°•μ‹± λ™μ‘μ„ ν”Όν•  μ μλ„λ΅ νΉλ³„ν• λ²„μ „μ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•λ‹¤.

μΌλ°μ μΌλ΅ νΉμ • ν•μ‹μ„ μ…λ ¥μΌλ΅ λ°›λ” ν•¨μν• μΈν„°νμ΄μ¤μ μ΄λ¦„ μ•μ—λ” `DoublePredicate`, `IntConsumer`, `LongBinaryOperator` μ™€ κ°™μ΄ ν•μ‹λ…μ΄ λ¶™λ”λ‹¤. 

μ„μ—μ„ ν•μ°¨λ΅€ μ μ‹ν• λλ‹¤μ μ‚¬μ© μ‚¬λ΅€μ™€ λ§¤μΉ­λλ” ν•¨μν• μΈν„°νμ΄μ¤λ“¤μ€ λ‹¤μκ³Ό κ°™λ‹¤.

| μ‚¬μ© μ‚¬λ΅€ | λλ‹¤ μμ  | λ€μ‘ν•λ” ν•¨μν• μΈν„°νμ΄μ¤ |
| --- | --- | --- |
| boolean ν‘ν„μ‹ | List<String> list -> list.isEmpty() | Predicate<T> |
| κ°μ²΄ μƒμ„± | () -> new Apple(10) | Supplier |
| κ°μ²΄μ—μ„ μ†λΉ„ | (Apple a) β†’ {
      System.out.println(a.getWeight()
}; | Consumer |
| κ°μ²΄μ—μ„ μ„ νƒ/μ¶”μ¶ | (String s) β†’ s.length() | Function<T> |
| λ‘ κ°’μ„ μ΅°ν•© | (int a, int b) β†’ a * b | BinaryOperator<T, T> |
| λ‘ κ°μ²΄ λΉ„κµ | (Apple a1, Apple a2) β†’ a1.getWeight().compareTo(a2.getWeight()) | Comparator<T> λλ” BiFunction<T,T,U>  |

# λλ‹¤ ν•μ‹ κ²€μ‚¬, ν•μ‹ μ¶”λ΅ , μ μ•½

## ν•μ‹ κ²€μ‚¬

λλ‹¤κ°€ μ‚¬μ©λλ” μ½ν…μ¤νΈλ¥Ό μ΄μ©ν•΄μ„ λλ‹¤μ ν•μ‹μ„ μ¶”λ΅ ν•  μ μλ‹¤. **μ–΄λ–¤ μ½ν…μ¤νΈ(μλ¥Ό λ“¤λ©΄ λλ‹¤κ°€ μ „λ‹¬λ  λ©”μ„λ“ νλΌλ―Έν„°λ‚ λλ‹¤κ°€ ν• λ‹Ήλλ” λ³€μ λ“±)μ—μ„ κΈ°λ€λλ” λλ‹¤ ν‘ν„μ‹μ ν•μ‹**μ„ **λ€μƒ ν•μ‹(Target Type)**μ΄λΌκ³  λ¶€λ¥Έλ‹¤.

```java
@FunctionalInterface
public interface Predicate<T>{   // 3.
		boolean test(T t);   // 4.
}

public <T> List<T> filter(List<T> list, Predicate<T> p){   // 1, 2
		List<T> results = new ArrayList<>();
		for(T t : list){
				if(p.test(t)){
						results.add(t);
				}
		}
		return results;
}

List<Apple> heavierThan150g = filter(inventory, (Apple a) -> a.getWeight() > 150);  // 5
```

μ„μ™€ κ°™μ€ μ½”λ“κ°€ μλ‹¤κ³  ν•λ©΄, λ‹¤μκ³Ό κ°™μ€ μμ„λ΅ ν•μ‹ ν™•μΈ κ³Όμ •μ΄ μ§„ν–‰λλ‹¤.

1. filter λ©”μ„λ“μ μ„ μ–Έ ν™•μΈ 
2. filter λ©”μ„λ“λ” λ‘ λ²μ§Έ νλΌλ―Έν„°λ΅ Predicate<Apple> ν•μ‹(λ€μƒ ν•μ‹)μ„ κΈ°λ€ν•λ‹¤.
3. Predicate<Apple>μ€ testλΌλ” ν• κ°μ μ¶”μƒ λ©”μ„λ“λ¥Ό μ •μν•λ” ν•¨μν• μΈν„°νμ΄μ¤λ‹¤.
4. test λ©”μ„λ“λ” Appleμ„ λ°›μ•„ booleanμ„ λ°ν™ν•λ” ν•¨μ λ””μ¤ν¬λ¦½ν„°λ¥Ό λ¬μ‚¬ν•λ‹¤.
5. filter λ©”μ„λ“λ΅ μ „λ‹¬λ μΈμλ” μ΄μ™€ κ°™μ€ μ”κµ¬μ‚¬ν•­μ„ λ§μ΅±ν•΄μ•Ό ν•λ‹¤.

## ν•μ‹ μ¶”λ΅ 

μλ°” μ»΄νμΌλ¬λ” λλ‹¤ ν‘ν„μ‹μ΄ μ‚¬μ©λ μ½ν…μ¤νΈ(λ€μƒ ν•μ‹)μ„ μ΄μ©ν•΄μ„ λλ‹¤ ν‘ν„μ‹κ³Ό κ΄€λ ¨λ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ¶”λ΅ ν•λ‹¤. λ”°λΌμ„, λλ‹¤μ μ‹κ·Έλ‹μ²λ¥Ό μ¶”λ΅ ν•  μ μκΈ° λ•λ¬Έμ— λλ‹¤ ν‘ν„μ‹μ νλΌλ―Έν„° ν•μ‹μ— μ ‘κ·Όν•  μ μμΌλ―€λ΅ νλΌλ―Έν„° νƒ€μ…μ μƒλµμ΄ κ°€λ¥ν•λ‹¤.

```java
Comparator<Apple> c = (Apple a1, Apple a2) 
												-> a1.getWeight().compareTo(a2.getWeight());
β¬‡οΈ
Comparator<Apple> c = (a1, a2) -> a1.getWeight().compareTo(a2.getWeight());
```

## λλ‹¤ μƒμ„± μ‹ μ μ•½ μ‚¬ν•­

λλ‹¤ ν‘ν„μ‹μ—μ„λ” νλΌλ―Έν„°λ΅ λ„κ²¨μ§„ λ³€μ μ™Έμ—λ„ μµλ… ν•¨μμ²λΌ μ™Έλ¶€μ—μ„ μ •μλ λ³€μλ¥Ό ν™μ©ν•  μ μλ”λ° μ΄λ¥Ό μμ  λ³€μλΌκ³  ν•λ‹¤. 

μ΄ μμ  λ³€μλ΅ μ§€μ—­ λ³€μλ¥Ό μ‚¬μ©ν•  λ• **Variable Capture**(λλ” λλ‹¤ μΊ΅μ²λ§, capturing lambda)κ°€ λ°μƒν•λ‹¤. κ·Έλ¦¬κ³  μ΄μ™€ κ°™μ€ μ‚¬μ© λ°©λ²•μ— λ”°λ¥Έ μ μ•½ μ‚¬ν•­μ΄ μ΅΄μ¬ν•λ”λ°, μμ  λ³€μλ΅ μ‚¬μ©ν•λ ¤λ” **μ§€μ—­ λ³€μλ” λ…μ‹μ μΌλ΅ `final`λ΅ μ„ μ–Έλμ–΄ μμ–΄μ•Ό ν•κ±°λ‚ μ‹¤μ§μ μΌλ΅ `final`λ΅ μ„ μ–Έλ λ³€μμ™€ κ°™μ΄ μ‚¬μ©**λμ–΄μ•Ό ν•λ‹¤. 

```java
int portNumber = 1337;
Runnable r = () -> System.out.println(portNumber);
portNumber = 31337;    // μ»΄νμΌ μ—λ¬ λ°μƒ!!
```

### μ™, μ΄λ° μ μ•½μ΄ ν•„μ”ν• κΉ?

κ²°λ΅ μ μΌλ΅ λ§ν•μλ©΄, JVM λ©”λ¨λ¦¬μ κµ¬μ΅°μ— λ”°λΌ λ°μƒν• κ²ƒμ΄λ‹¤.

λλ‹¤ ν‘ν„μ‹μ„ ν¬ν•¨ν• κ°μ²΄λ¥Ό μƒμ„±ν•  κ²½μ° newλΌλ” ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•λ”λ°, μ΄λ” κ³§ **heap**(λ™μ  λ©”λ¨λ¦¬ ν• λ‹Ή μμ—­)μ— κ°μ²΄λ¥Ό μƒμ„±ν•λ” κ²ƒμ„ μλ―Έν•λ‹¤.

μ΄λ ‡κ² μƒμ„±λ κ°μ²΄λ” μμ‹ μ„ κ°μ‹Έκ³  μλ” λ©¤λ²„ λ©”μ„λ“μ μ‹¤ν–‰μ΄ λλ‚ μ΄ν›„μ—λ„ heap μμ—­μ— μ΅΄μ¬ν•κΈ° λ•λ¬Έμ— μ‚¬μ©ν•  μ μμ§€λ§, μ΄ λ©¤λ²„ λ©”μ„λ“μ— μ •μλ λ§¤κ°λ³€μλ‚ μ§€μ—­ λ³€μλ” **Stack**(λ°νƒ€μ„ μ¤νƒ μμ—­)μ— ν• λ‹Ήλμ–΄ λ©”μ„λ“ μ‹¤ν–‰μ΄ λλ‚λ©΄ ν•΄λ‹Ή μμ—­μ—μ„ μ‚¬λΌμ§€κΈ° λ•λ¬Έμ— λ”μ΄μƒ μ‚¬μ©ν•  μ μ—†κ² λλ‹¤.

μΆ€ λ” κ°„λ‹¨ν•κ² λ§ν•μλ©΄ **μΈμ¤ν„΄μ¤ λ³€μλ” ν™**μ— μ €μ¥λλ” λ°λ©΄ **μ§€μ—­ λ³€μλ” μ¤νƒ**μ— μ„μΉν•λ‹¤. 

λ”°λΌμ„, μλ°” μ—μ„λ” μ›λ λ³€μμ— μ ‘κ·Όμ„ ν—μ©ν•λ” κ²ƒμ΄ μ•„λ‹λΌ μμ  μ§€μ—­ λ³€μμ λ³µμ‚¬λ³Έμ„ μ κ³µν•λ‹¤. κ·Έλ¬λ―€λ΅ λ³µμ‚¬λ³Έμ κ°’μ΄ λ°”λ€μ§€ μ•μ•„μ•Ό ν•λ―€λ΅ μ§€μ—­ λ³€μμ—λ” ν• λ²λ§ κ°’μ„ ν• λ‹Ήν•΄μ•Ό ν•λ‹¤λ” μ μ•½μ΄ μƒκΈ΄ κ²ƒμ΄λ‹¤.

[15μ£Όμ°¨ : λλ‹¤μ‹](https://xxxelppa.tistory.com/207)

# λ©”μ„λ“ μ°Έμ΅°(Method reference)

λ©”μ„λ“ μ°Έμ΅°λ¥Ό μ΄μ©ν•λ©΄ κΈ°μ΅΄μ λ©”μ„λ“ μ •μλ¥Ό μ¬ν™μ©ν•΄μ„ λλ‹¤μ²λΌ μ „λ‹¬ν•  μ μμΌλ©°, `ν΄λμ¤μ΄λ¦„::λ©”μ„λ“μ΄λ¦„`μ ν•νƒλ΅ μ‚¬μ©ν•  μ μλ‹¤. λ©”μ„λ“ μ°Έμ΅°λ¥Ό μ΄μ©ν•λ©΄ κΈ°μ΅΄μ λ©”μ„λ“ κµ¬ν„μ„ μ¬μ‚¬μ©ν•κ³  μ§μ ‘ μ „λ‹¬ν•  μ μλ” μ΄μ μ΄ μλ‹¤.

λ©”μ„λ“ μ°Έμ΅°λ” μ„Έ κ°€μ§€ μ ν•μΌλ΅ κµ¬λ¶„ν•  μ μλ‹¤.

1. μ •μ  λ©”μ„λ“ μ°Έμ΅°:  `Integer::parseInt`
2. λ‹¤μ–‘ν• ν•μ‹μ μΈμ¤ν„΄μ¤ λ©”μ„λ“ μ°Έμ΅°: `String::length`
3. κΈ°μ΅΄ κ°μ²΄μ μΈμ¤ν„΄μ¤ λ©”μ„λ“ μ°Έμ΅° 

String νƒ€μ…μ μ •μλ¥Ό Integerλ΅ λ³€ν™ν•΄μ£Όλ” λλ‹¤μ‹μ„ μ„ μ–Έν–λ‹¤κ³  κ°€μ •ν•μ.

```java
Function<String, Integer> f = (String s) -> Integer.parseInt(s);
System.out.println(f.apply(100)+200);	// 300
```

λ©”μ„λ“μ λ§¤κ°λ³€μ(μ…λ ¥κ°’) νƒ€μ…μ€ μ°Έμ΅°λ³€μμ μ λ„¤λ¦­ νƒ€μ…μΌλ΅ Stringμ„ μ§€μ •ν•΄μ¤€ λ¶€λ¶„μ„ ν†µν•΄ μ• μ μκΈ° λ•λ¬Έμ—Β `(String s)`Β λ¶€λ¶„μ΄ μƒλµμ΄ κ°€λ¥ν•κ² λλ‹¤.

λν•,Β `parseInt()`Β λ©”μ„λ“μ λ§¤κ°λ³€μκ°€ λ‡ κ° ν•„μ”ν•μ§€λ” μ»΄νμΌλ¬κ°€ μ•κ³  μκΈ° λ•λ¬Έμ— ν•΄λ‹Ή λ¶€λ¶„λ„ μƒλµν•  μ μκ² λμ–΄ μ„μ μ½”λ“λ” λ‹¤μκ³Ό κ°™μ΄ μ¤„μ—¬ μ“Έ μ μκ² λλ‹¤.

```java
Function<String, Integer> f = Integer::parseInt;
System.out.println(f.apply(100)+200);	// 300
```

## μƒμ„±μ μ°Έμ΅°

`ClassName::new` μ²λΌ ν΄λμ¤λ…κ³Ό new ν‚¤μ›λ“λ¥Ό μ΄μ©ν•΄μ„ κΈ°μ΅΄ μƒμ„±μμ μ°Έμ΅°λ¥Ό λ§λ“¤ μ μλ‹¤.

```java
public class Example {
		public static void main(String[] args) {
				BiFunction<String, Integer, Apple> bf;
				Function<String, Apple> f;
				Supplier<Apple> s;

				BiFunction<String, Integer, Apple> bf = (param_1, param_2) -> new Apple(param_1, param_2);

				System.out.println(bf.apply("red", 17).toString());
				System.out.println();

				s = Apple::new;
				System.out.println("κΈ°λ³Έ μƒμ„±μ : " + s.get().toString());

				f = Apple::new;
				System.out.println("String ν•λ‚λ¥Ό λ°›λ” μƒμ„±μ : " + f.apply("green").toString());

				bf = Apple::new;
				System.out.println("String, int λ‘ κ°λ¥Ό λ°›λ” μƒμ„±μ : " + bf.apply("red", 40).toString());
		}
}
class Apple {
		String color;
		int weight;

		public Apple() {}
		
		public Apple(String color) {
				this.color = color;
		}
		
		public Apple(String color, int weight) {
				this.color = color;
				this.weight = weight;
		}
		@Override
		public String toString() {
				return "Apple {" +
									"color='" + color + '\'' +
									", weight=" + weight +
									'}';
		}
}
```

## λλ‹¤ ν‘ν„μ‹μ μ΅°ν•©

Comparator, Predicate, Function κ°™μ€ ν•¨μν• μΈν„°νμ΄μ¤λ” λλ‹¤ ν‘ν„μ‹μ„ μ΅°ν•©ν•  μ μλ” λ‹¤μ–‘ν• λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ κ³µν•λ‹¤.

# λλ‹¤, λ©”μ„λ“ μ°Έμ΅° ν™μ© κ³Όμ •

μ‚¬κ³Ό λ¦¬μ¤νΈ(List<Apple>)λ¥Ό μ •λ ¬ν•λ” μ½”λ“λ¥Ό κ°„μ†ν™”ν•λ” κ³Όμ •μ„ ν†µν•΄ ν•΄λ‹Ή μ¥μ„ λ§λ¬΄λ¦¬ν•μ.

```java
public interface List<E> extends Collection<E> {
...
		default void sort(Comparator<? super E> c) {
        Object[] a = this.toArray();
        Arrays.sort(a, (Comparator) c);
        ListIterator<E> i = this.listIterator();
        for (Object e : a) {
            i.next();
            i.set((E) e);
    }
}

List<Apple> inventory;
```

### 1. μ½”λ“ μ „λ‹¬(μƒλµ)

### 2. μµλ… ν΄λμ¤ μ‚¬μ©

```java
inventory.sort(new Comparator<Apple>() {
		@Override
		public int compare(Apple a1, Apple a2){
				return a1.getWeight().compareTo(a2.getWeight());
		}
})
```

### 3. λλ‹¤ ν‘ν„μ‹ μ‚¬μ©

```java
inventory.sort((Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight()));

// νƒ€μ… μƒλµ
inventory.sort((a1, a2) -> a1.getWeight().compareTo(a2.getWeight()));
```

Comparatorλ” Comparator νƒ€μ…μ κ°μ²΄λ¥Ό μƒμ„±ν•λ©΄μ„, Function ν•¨μλ¥Ό μΈμλ΅ λ°›λ” μ •μ  λ©”μ„λ“ comparingμ„ ν¬ν•¨ν•κ³  μλ‹¤. 

```java
public static <T, U extends Comparable<? super U>> Comparator<T> comparing(
            Function<? super T, ? extends U> keyExtractor)
{
    Objects.requireNonNull(keyExtractor);
    return (Comparator<T> & Serializable)
        (c1, c2) -> keyExtractor.apply(c1).compareTo(keyExtractor.apply(c2));
}
```

λ”°λΌμ„ comparing λ©”μ„λ“λ¥Ό μ‚¬μ©ν•μ—¬ λ‹¤μκ³Ό κ°™μ΄ μ½”λ“λ¥Ό λ³€κ²½ν•  μ μλ‹¤.

```java
inventory.sort(Comparator.comparing(a -> a.getWeight()));
```

### 4. λ©”μ„λ“ μ°Έμ΅° μ‚¬μ©

λ©”μ„λ“ μ°Έμ΅°λ¥Ό μ‚¬μ©ν•΄μ„ λ‹¤μκ³Ό κ°™μ΄ κ°„μ†ν™”κ°€ κ°€λ¥ν•λ‹¤.(java.util.Comparator.comparingμ€ μ •μ μΌλ΅ importν–λ‹¤κ³  κ°€μ •)

```java
inventory.sort(comparing(Apple::getWeight));
```